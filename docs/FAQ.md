# 常见问题解答（FAQ）

## 安装和配置

### Q: 需要什么前置条件？
A:
- Python 3.8 或更高版本
- AWS账户
- 访问AWS Bedrock服务的权限
- 配置好的AWS凭证

### Q: 如何配置AWS凭证？
A: 有三种方式：
1. 使用AWS CLI: `aws configure`
2. 设置环境变量: `export AWS_ACCESS_KEY_ID=xxx`
3. 使用.env文件（复制.env.example并填写）

### Q: 如何测试环境是否配置正确？
A: 运行测试脚本：
```bash
python test_setup.py
```

### Q: 提示"No credentials found"怎么办？
A: 说明AWS凭证未配置，请参考上面的配置方法。

## 游戏相关

### Q: 可以只有AI玩吗？
A: 可以！启动游戏时选择0个人类玩家，你可以观看9个AI互相博弈。

### Q: 可以多人一起玩吗？
A: 可以！启动时选择2-9个人类玩家，剩余位置由AI填充。

### Q: 游戏需要多长时间？
A:
- 纯AI对战：约10-30分钟（取决于游戏进程）
- 有人类玩家：取决于玩家发言和思考时间

### Q: AI会不会太强/太弱？
A: AI使用不同的模型，表现会有差异。你可以在config_example.py中查看不同的模型配置方案。

### Q: 如何修改AI难度？
A: 修改 src/utils/llm_client.py 中的 DEFAULT_MODEL_ASSIGNMENT，使用更强或更弱的模型。

### Q: AI能记住之前的信息吗？
A: 能！AI玩家有记忆系统，会记住游戏中的关键信息。

## 规则相关

### Q: 女巫可以自救吗？
A: 不可以，这是标准规则。

### Q: 猎人被毒死能开枪吗？
A: 不能，只有被狼杀或被投票放逐才能开枪。

### Q: 平票怎么办？
A: 当前版本会随机选择一个被放逐。

### Q: 第一晚女巫看到自己被杀怎么办？
A: 不能自救，只能等死或希望有其他机制。

### Q: 游戏什么时候结束？
A:
- 所有狼人死亡 → 好人胜利
- 所有神职死亡 → 狼人胜利
- 所有平民死亡 → 狼人胜利

## 技术相关

### Q: 会产生多少AWS费用？
A: 取决于：
- 使用的模型（Opus > Sonnet > Haiku）
- 游戏时长
- AI发言的长度

建议使用成本优化配置（见config_example.py）

### Q: 可以使用其他LLM吗？
A: 当前版本只支持AWS Bedrock的模型，但你可以修改llm_client.py来支持其他API。

### Q: 为什么有时AI响应很慢？
A:
- 网络延迟
- 模型负载
- 推理时间较长（特别是复杂决策时）

### Q: 可以保存游戏记录吗？
A: 当前版本不支持，但你可以复制终端输出保存。

### Q: 游戏崩溃了怎么办？
A:
1. 检查网络连接
2. 查看错误信息
3. 确保AWS服务正常
4. 使用 Ctrl+C 中断并重新开始

## 模型相关

### Q: 各个模型有什么区别？
A:
- **Claude Opus**: 最强大，推理能力最好，成本最高
- **Claude Sonnet**: 平衡性能和成本
- **Claude Haiku**: 快速且经济
- **DeepSeek**: 高性价比，推理能力强

### Q: 哪个模型最适合玩狼人杀？
A: Opus和Sonnet 4.5表现最好，能进行复杂推理和欺骗。

### Q: 可以混用不同模型吗？
A: 可以！这正是默认配置的做法，让游戏更有趣。

### Q: 如何让所有AI都使用最强模型？
A: 使用config_example.py中的OPUS_ONLY_ASSIGNMENT配置。

## 游戏玩法

### Q: 作为人类玩家，我该如何输入？
A:
- 选择玩家时：输入玩家编号（如：1）
- 发言时：输入完整的发言内容
- 投票时：输入玩家编号

### Q: AI会作弊吗？
A: 不会，每个AI只知道自己角色应该知道的信息。

### Q: 狼人之间会配合吗？
A: 会！当前主狼会决定击杀目标，其他狼人会遵守。

### Q: 预言家会暴露身份吗？
A: AI会根据情况决定，通常在查到狼人后会考虑跳出来。

### Q: 可以中途退出吗？
A: 可以，按 Ctrl+C 即可中断游戏。

## 自定义和扩展

### Q: 可以修改游戏规则吗？
A: 可以！修改 src/game/werewolf_game.py 中的相关代码。

### Q: 可以添加新角色吗？
A: 可以！在 src/models/roles.py 中添加新的角色类。

### Q: 可以改成其他人数配置吗？
A: 可以，但需要修改代码中的角色分配逻辑。

### Q: 可以保存AI的发言记录吗？
A: 当前版本会打印到终端，你可以重定向输出到文件：
```bash
python main.py | tee game_log.txt
```

## 故障排除

### Q: "ResourceNotFoundException" 错误
A: 模型在当前区域不可用，检查模型ID或切换区域。

### Q: "AccessDeniedException" 错误
A:
1. 检查AWS凭证
2. 确认有Bedrock权限
3. 确认模型已启用

### Q: "ThrottlingException" 错误
A: API调用频率过高，等待一段时间或申请提高配额。

### Q: 游戏卡在某个环节
A:
1. 检查网络连接
2. 查看是否有错误信息
3. 使用Ctrl+C中断
4. 重新开始游戏

### Q: AI输出不合理
A:
1. 可能是模型理解问题
2. 尝试使用更强的模型
3. 检查system prompt是否正确

## 优化建议

### Q: 如何降低成本？
A:
1. 使用Haiku或DeepSeek模型
2. 减少max_tokens参数
3. 使用成本优化配置

### Q: 如何提高游戏质量？
A:
1. 使用Opus模型
2. 增加temperature参数让AI更有创造性
3. 优化system prompt

### Q: 如何加快游戏速度？
A:
1. 使用Haiku模型（响应快）
2. 减少max_tokens
3. 降低temperature

## 其他问题

### Q: 这个项目开源吗？
A: 是的，你可以自由修改和使用。

### Q: 可以用于商业用途吗？
A: 请注意AWS使用条款和相关法律法规。

### Q: 如何反馈问题？
A: 创建Issue或直接修改代码。

### Q: 后续会有更新吗？
A: 这是一个示例项目，你可以自行扩展功能。

### Q: 可以联机对战吗？
A: 当前版本不支持，但可以扩展添加网络功能。
